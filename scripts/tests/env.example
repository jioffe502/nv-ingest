# Minimal configuration for nv-ingest integration tests

# Dataset path - REQUIRED (no default, must be set for each test)
DATASET_DIR=/raid/jioffe/bo20

# Test name for collection naming (affects collection prefix)
TEST_NAME=dc20

# Compose profiles to run in managed mode
PROFILES=retrieval,table-structure

# Readiness timeout in seconds (starts counting after docker compose finishes building/starting)
READINESS_TIMEOUT=600

# Where to write run artifacts (summary, stdout). Can be set to /raid/... if preferred
ARTIFACTS_DIR=

# Spill directory used by test cases
SPILL_DIR=/raid/jioffe/tmp/spill

# Milvus collection name. If empty, a timestamped name will be generated using TEST_NAME
COLLECTION_NAME=

# Runtime configuration
HOSTNAME=localhost
SPARSE=true
GPU_SEARCH=false

# Embedding model (auto-detected if not set)
EMBEDDING_NIM_MODEL_NAME=

# API version configuration (v1 = default, v2 = enables PDF splitting)
API_VERSION=v1

# V2-only: PDF splitting (server-side page splitting before processing)
# Only takes effect when API_VERSION=v2
# Splits large PDFs into page-range chunks (e.g., 100-page PDF -> multiple 32-page chunks)
# Server enforces min=1, max=128; default=32 if not specified
PDF_SPLIT_PAGE_COUNT=

# Extraction configuration
EXTRACT_TEXT=true
EXTRACT_TABLES=true
EXTRACT_CHARTS=true
EXTRACT_IMAGES=false
TEXT_DEPTH=page
TABLE_OUTPUT_FORMAT=markdown
EXTRACT_INFOGRAPHICS=true

# Optional pipeline steps
ENABLE_CAPTION=false
ENABLE_SPLIT=false

# Text splitting configuration (client-side text chunking after extraction)
# Only takes effect when ENABLE_SPLIT=true
# Chunks extracted text content into token-based segments for RAG
SPLIT_CHUNK_SIZE=1024
SPLIT_CHUNK_OVERLAP=150

# Logging configuration (set by run.py, can be overridden)
LOG_PATH=
